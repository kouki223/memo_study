***データベースとは？***
- データベース => データを集約して管理するもの
    - 狭義のRDB
        - リレーショナルデータベース
            - 表形式で扱うデータベースの事
                - テーブル
                    - 行と列で構成される表形式のデータ
            - テーブルを構成する要素
                - 行　レコード
                - 列　カラム
                    - カラム　＝　データの属性
                        - Foodテーブル
                            - idカラムは基本どのdbでもある
                                - データを一意に識別するもの
        - RDBの例
            - userテーブル
                - 名前
                - 年齢
                    - 名前などで識別する事も可能だがかぶる可能性
                        - そこでプライマリーキー（主キー）が重要になる
                            - userテーブル
                                - 名前
                                - 年齢
                                - 住所
                                    - IDは無し??
                                        - 名前✖️住所　で識別する事ができる
                                            - 複合子キーという概念
                                                - ルームシェアなど例外はあるが複合する要素を使う事でデータを一意に識別する事ができる
                                                    - とはいえ、基本的にはIDがあった方が安全
    - RDBにおいてなぜ複数のテーブルができるか？
        - userテーブル、postテーブル
            - userテーブル
                -           -ID
                - 名前
            - postテーブル
                -           -ID
                - 投稿内容
    - 複数のテーブルを作成せずに共通テーブルをつくる方法
        -           -ID
        - 名前
        - 投稿内容
            - 共通テーブルで表現できるしできない
                - 今回の例だとすると一人のユーザが一つの投稿のみであれば可能
                    - ID：１　ユーザー1　投稿：今日も頑張るぞ
                    - ID：１　ユーザー2　投稿：今日はゆっくりする
            - userテーブル
                - ID：1 　ユーザー1
            - postテーブル
                - ID：１　投稿：今日も頑張るぞ
                - ID；１　投稿：今日はゆっくりする
        - なぜテーブルを分けるか？
            - データが複数紐づく可能性があるから
    - テーブル同士の関係性で表現するRDB
        - 親テーブル　子テーブル
            - 親がない子はいない
                - 子がいない親はいる
        - userテーブル
            - 親が複数いる子はいない
                - 複数、子がいる親はいる
    - クラスの継承
        - 親クラス　子クラス
            - 全てのクラスに親がある
                - 親クラスはどのクラスにとっても一つだけ
                    - 子クラスが複数ある親クラスはある
    - 例えばプロサッカー選手、プロサッカーチームのデータがあったとする
        - teamテーブル
            - ID:1 name :バルセロナ
            - ID:2 name：マンC
            - ID:3 name：ビッセル神戸→楽天神戸
        - memberテーブル
            - ID：1　name：メッシ　[team.id](http://team.id/) :1
            - ID：2　name：大迫 [team.id:3](http://team.id:3/)
            - ID：3 　name：デ・ブライネ　[team.id:2](http://team.id:2/)
            - ID：4 name：シュテーゲン　[team.id](http://team.id/) :1
            - ID：5 name：初瀬　[team.id:3](http://team.id:3/)
            - ID：6 name：カンセロ　[team.id:2](http://team.id:2/)  
        - 共通テーブル
            - ID：1 name：メッシ　team：バルセロナ
            - ID：2 name：大迫　team：ビッセル神戸→楽天神戸
            - ID：3 name：デ・ブライネ　team：マンC
            - ID：4 name：シュテーゲン　team：バルセロナ
            - ID：5 name：初瀬　team：ビッセル神戸→楽天神戸
            - ID：6 name：カンセロ　team：マンC
    - 変更の違い
        - 変更箇所が違う
            - テーブルを分けた場合
                - １箇所
        - テーブルを同じにした場合
            - ２箇所
    - もし選手数がもっと多い場合
        - 1000人＝1000箇所
            - テーブルを分ける事で変更があった場合に変更箇所が少なくなる
    - 仮に１０００箇所変更した場合で変更を間違えたなどがあった場合に
        - バルセロナ
            - FCバルセロナ
        - データの不整合が発生する
            - テーブルを分ける事で共通するデータになるためデータの不整合が発生しない    
                - データの不整合は大問題
- データの不整合
    - 金融システムがあったとする
        - ユーザー1 => 特定の口座
        - ユーザー2 => 特定の講座
            - もし講座番号の編集を間違えた際に大問題
                - いかに正しいデータをもつか？
                    - データの不整合をいかに起こさないかがデータベースシステムにおいて重要
    - データの不整合を得る代わりに捨てるもの
        - システムにおけるパフォーマンスを捨てる
            - システムにおける計算量が増える
                - テーブル分割する事で結合処理（join）がでる
    - リアルタイムでの処理が求められるもの
        - 不整合がでる可能性もあるがパフォーマンスを優先する事もある
            - １万件のうち１件のエラーを許容
    - システム
        - 現実を抽象化して表現したもの
    - 抽象化
        - レイヤー
            - ブラウザ
    - ユーザインターフェースレイヤー（UI）
        - Webサイトなどの利用者
            - HTMLやCSSは理解しておらずに表示されたものが分かれば良い
                - アプリケーションレイヤー
                    - HTMLとCSSの情報を知っていれば良い
                        - プログラマーに取ってHTMLとCSSがインターフェース
    - ブラウザレイヤー
        - HTMLとCSSを解析してペインティングする
            - 利用者は最低限の事を知っている事で下のレイヤーに任せる
    - インターフェース
        - 利用者から見た全てのもの
            - Rubyもインターフェースの1つ
    - インターフェース　＝＞　目に見えるもの全て
        - メソッド　
        - 変数
        - クラス
        - フォルダ、ディレクトリインターフェース
            - ファイルを開く前にはファイル名がインターフェース
    - インターフェースにおいては抽象度が大事なものになる
        - 利用者に何を意識させて何を意識させないか
            - 写真ディレクトリ　=> 写真を表す
                - 家族フォルダ　
                - 趣味フォルダ
                - 学校フォルダ
                    - 家族・趣味・学校ディレクトリ => 具体的すぎる
                        - 意識する事が多くなってしまう
                            - 家族フォルダ　
                            - 趣味フォルダ
                            - 学校フォルダ
                            - 勉強フォルダ
                            - 育児記録フォルダ
                            - 画像ディレクトリ
                                - 画像と写真は違う
                                    - 画像ディレクトリは抽象的すぎる
                                        - 利用者からすると何のメソッドかわからない
        - インターフェースから中身がわからない
            - 利用者から見た時に意識させたい事と意識させなくて良い事がはっきりわかる名前をつける
                - 引き算・掛け算・割算・足し算をするメソッド
                    - メソッド名
                        - 引き算・掛け算・割算・足し算メソッド
                            - 計算メソッド
                                - 命名が大事というが利用しやすさ
                                        - 処理メソッド => 中身がわからない
- データ構造について
    - ウイイレ
        - 一人の選手が一つのチームに所属する
            - 一人の選手が複数のチームに所属する事は基本ありえない
                - データ構造をよく考えないといけない
    - 金融システム
        - 一人の人が複数の金融システムを利用する
            - データの関係性を考えて現実を抽象化する
                - データモデリング
                    - 口座テーブル
                        - 口座番号　口座テーブルの中身はこれだけしかない
                        - ID
                        - 金額
                            - 口座番号：１　金額：１００万
                            - 口座番号：１　金額；１００　ー＝　１０　＝９０
                    - 入金テーブル
                        - 口座番号
                            - 金額
                                - 増えるor減る
                                    - 口座番号：１　金額：１００万　増える
                                    - 口座番号：１　金額：１０万　減る
        - ATM
            - 金額入力から時間がかかるのは重い処理をしているから
                - 金融システムでは処理が長くかかっても良いが正確でミスの無い事が要求されるためテーブルを分けてプログラムされている
                    - Joinが多くなって共通テーブルよりも処理が多くなっている
    - Youtube
        - パフォーマンスが求められる
    - Meet
        - リアルタイム性
            - 音声が遅延なく
            - 再送処理はしない
                - 再送しないためパフォーマンスが出せる
    - Slack
        - リアルタイム性も重要だが正確性が必要
            - 再送処理
    - トレードオフ
        - 何かを大事（追求）するとそのほかの何かが犠牲になる
            - 全てが完璧なシステムはない
                - システムが完璧でも資源、時間などが犠牲になる
                    - 商用化されているシステム
                        - テーブル数　：　1000個以上のテーブルができる